<div class="transactions table">
    <span ng-show="loading" class="transaction-sync">
        <i class="material-icons md-18">sync</i>
    </span>
    <table ng-show="!loading">
        <thead>
            <tr>
                <td>
                    <input type="checkbox">
                </td>
               <td ng-repeat="header in headers" ng-bind="header"></td>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="transaction in transactions | orderBy: -transaction.date:true">
                <td>
                    <input type="checkbox" ng-checked="checked(transaction)">
                </td>
                <td>
                    <span ng-bind="transaction.id"></span>
                </td>
                <td ng-bind="transaction.date"></td>
                <td transactions-edit type="text">
                    <span class="transaction-data">
                        <span ng-bind="transaction.description"></span>
                    </span>
                    <span class="transaction-edit-trigger">
                        <i class="material-icons md-18">mode_edit</i>
                    </span>
                    <span class="transaction-edit">
                        <form name="transactionFormDescription"
                            action=""
                            name="transactionFormDescription"
                            ng-submit="transactionFormDescription.$valid && save(transaction, $event)"
                        >
                            <input type="text" name="description" ng-model="transaction.description" required>
                        </form>
                    </span>
                    <span class="transaction-sync">
                        <i class="material-icons md-18">sync</i>
                    </span>
                </td>
                <td transactions-edit type="select" style="width: 2000px" ng-init="oldTransaction = transaction">
                    <span class="transaction-data">
                        <span ng-bind="accounts[transaction.accountId].name"></span>
                    </span>
                    <span class="transaction-edit-trigger">
                        <i class="material-icons">arrow_drop_down</i>
                    </span>
                    <span class="transaction-edit">
                        <form name="transactionFormAccount">
                            <select
                                    name="account" id=""
                                    ng-model="transaction.accountId"
                                    ng-options="account.id as account.name for account in accounts"
                                    ng-change="save(transaction)"
                            ></select>
                        </form>
                    </span>
                    <span class="transaction-sync">
                        <i class="material-icons md-18">sync</i>
                    </span>
                </td>
                <td transactions-edit type="select">
                    <span class="transaction-data">
                        <span ng-bind="categories[transaction.categoryId].name"></span>
                    </span>
                    <span class="transaction-edit-trigger">
                        <i class="material-icons">arrow_drop_down</i>
                    </span>
                    <span class="transaction-edit">
                        <form name="transactionFormCategory">
                            <select
                                    name="category" id=""
                                    ng-model="transaction.categoryId"
                                    ng-options="category.id as category.name group by category.parentId for category in categories"
                                    ng-change="save(transaction)"
                            ></select>
                        </form>
                    </span>
                    <span class="transaction-sync">
                        <i class="material-icons md-18">sync</i>
                    </span>
                </td>
                <td transactions-edit type="text">
                    <span class="transaction-data">
                        <span ng-bind="'$' + transaction.amount"></span>
                    </span>
                    <span class="transaction-edit-trigger">
                        <i class="material-icons md-18">mode_edit</i>
                    </span>
                    <span class="transaction-edit">
                        <form name="transactionFormAmount"
                                action=""
                                name="transactionForm"
                                ng-submit="transactionFormAmount.$valid && save(transaction, $event)"
                                >
                            <label for="">$</label>
                            <input type="text" size="6" name="amount" ng-model="transaction.amount" required>
                        </form>
                    </span>
                    <span class="transaction-sync">
                        <i class="material-icons md-18">sync</i>
                    </span>
                </td>
                <td transactions-edit type="text">
                    <span class="transaction-data">
                        <span ng-bind="'$' + transaction.balance"></span>
                    </span>
                    <span class="transaction-edit-trigger">
                        <i class="material-icons md-18">mode_edit</i>
                    </span>
                    <span class="transaction-edit">
                        <form name="transactionFormBalance"
                                action=""
                                name="transactionForm"
                                ng-submit="transactionFormBalance.$valid && save(transaction, $event)"
                                >
                            <label for="">$</label>
                            <input type="text" size="6" name="amount" ng-model="transaction.balance" required>
                        </form>
                    </span>
                    <span class="transaction-sync">
                        <i class="material-icons md-18">sync</i>
                    </span>
                </td>
                <td transactions-edit type="select">
                    <span class="transaction-data">
                        <span ng-bind="status[transaction.statusId].name"></span>
                    </span>
                    <span class="transaction-edit-trigger">
                        <i class="material-icons">arrow_drop_down</i>
                    </span>
                    <span class="transaction-edit">
                        <form name="transactionFormStatus">
                            <select
                                    name="status" id=""
                                    ng-model="transaction.statusId"
                                    ng-options="s.id as s.name for s in status"
                                    ng-change="save(transaction)"
                                    ></select>
                        </form>
                    </span>
                    <span class="transaction-sync">
                        <i class="material-icons md-18">sync</i>
                    </span>
                </td>
            </tr>
        </tbody>
    </table>
</div>